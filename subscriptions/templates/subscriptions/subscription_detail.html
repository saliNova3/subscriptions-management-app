{% extends 'base.html' %}

{% block content %}
  <div class="max-w-lg mx-auto bg-white shadow-md rounded-lg p-6">
    <h2 class="text-2xl font-bold mb-4 text-black">{{ subscription.name }}</h2>
    <p class="text-gray-700"><strong>Cost:</strong> ${{ subscription.cost }}</p>
    <p class="text-gray-700"><strong>Billing Cycle:</strong> {{ subscription.get_billing_cycle_display }}</p>
    <p class="text-gray-700"><strong>Next Renewal:</strong> {{ subscription.next_renewal }}</p>

    <div class="mt-4 flex justify-between">
      <a href="{% url 'subscriptions:update' subscription.pk %}" class="text-blue-500 underline">Edit</a>
      <a href="{% url 'subscriptions:list' %}" class="text-blue-500 underline">Back to List</a>
    </div>

        <!-- NEW: Send Reminder Form with Email Input -->
    <form 
    method="post"
    action="{% url 'subscriptions:send_reminder' subscription.pk %}"
    class="mt-6"
  >
    {% csrf_token %}
    
    <!-- Email Input -->
    <label for="custom_email" class="block mb-1 font-medium text-gray-700">Enter an email to send reminder</label>
    <input
      type="email"
      name="custom_email"
      id="custom_email"
      placeholder="example@domain.com"
      class="w-full text-black  hover:bg-white focus:ring-4 focus:outline-none focus:ring-blue-300 
             font-medium rounded-lg text-sm px-5 py-2.5 text-left"
      required
    />
    
    <!-- Submit Button -->
    <button
      type="submit"
      class="mt-3 bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"
    >
      Send Reminder
    </button>
  </form>
  </div>
{% endblock %}
